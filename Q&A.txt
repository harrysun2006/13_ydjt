家校新干线,新为软件,菁优

1. 数据表命名规范:
G_XXX为所有服务器上都有的表
M_XXX为中心服务器上的表
T_XXX为各个服务器上自有的表,T表应为G表的子集
Q_XXX为各个服务器上的临时表,一般用作队列

2. 数据表说明:
G_GEOGRAPHY表,存储行政区划
M_AGENCY表,存储学校,培训机构信息
M_SERVER表,存储服务器列表

3. 问题
1) 系统及业务架构
1个中心服务器+多个节点服务器,1个中心服务器和多个节点服务器之间可以同步资源
多个学校可以共享同一个节点服务器.
服务器由ydjt统一进行维护
中心服务器(CS):由ydjt托管到IDC,由ydjt管理,有所有账号信息及题库
节点服务器(NS):可以安装在学校机房或由ydjt托管到IDC,由学校自行管理,无账号信息或只存放本地账号,有部分题库
CS和NS之间使用HTTPS/HTTP协议进行通讯,数据格式为JSON.
证书,用户验证使用HTTPS;其他可以使用HTTP
NS可以脱离CS独立使用,但无法验证本服务器之外的用户,也无法同步新的题库内容
NS的证书具备有效期,超过有效期则无法解密题库,此时必须同步CS刷新证书,否则只能使用本地自有题库

2) 安装及初始化? 
节点服务器安装:
学校提供信息(注册信息,软件系统配置要求等)==>ydjt商谈并确认==>在中心服务器上输入信息,生成安装包,打印序列号给学校
==>学校安装节点服务器==>下载安装包,安装并输入序列号验证
==>ydjt记录安装信息,提供在线支持==>节点服务器开始正式使用(含有效期)
节点服务器初始化:
学校设置
年级/班级设置
用户设置
科目/教材设置--中心统一,学校可以添加自己的特色科目和教材
章节设置
知识点设置--不同版本教材的知识点相对独立,江苏省使用一个版本,一个题目可以放多个知识点

3) 有效期的设置? 
有效期可以设置到用户及节点服务器:
节点服务器过期后关闭同步中心服务器功能? 限制学校使用新的题库还是限制学校使用非本校自由题库?

4) 用户如何验证?
A. 账号信息只存放于中心服务器,用户统一由中心服务器进行验证,降低系统复杂度,增加安全性
B. 本地用户可以在本地服务器上验证,非本地用户需要在中心服务器验证.各服务器只保存本地用户

5) 题库加密,同步及判重?
是否只需要加密题目即可, 答案可以不加密?
题目如何同步? 本地题库<==>中心题库, 使用序号?
如何判重? 问题的hash相同即可认为相同?
题目: 问题+选项+答案+分析

6) 积分系统,学习币
积分如何获取及使用?

7) 系统升级

4. 设计
每个学校可以有一定的后台管理权限:
1. 可以批量添加用户到本地服务器/主服务器?需要同步到主服务器?

学生可以对教学资源进行补充,纠错
抹掉错题,连过3关

成绩比较分析,可以导入excel成绩导入,系统进行比较分析

竞赛:
网上或短信报名

家校新干线
注册学校-选学科-选教材版本-完善信息
学校信息由管理员维护,班级可以自建

分享功能
抓取功能
防抓取功能

